"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},_createClass=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),CFCMScroll=function(){function t(e){_classCallCheck(this,t),this.initVal(e)}return _createClass(t,[{key:"initVal",value:function(t){var e={father:"scrollfather1",fatherclass:"scrollfather",soncontent:"scrollson",scroll_y:"scroll_y",scroll_ymove:"scroll_ymove",scroll_x:"scroll_x",scroll_xmove:"scroll_xmove",wheelxory:"wheely",wheelval:0,marginstep:10,marginstepbole:8,getfatherid:"whichscroll",scrolltop:"top",resetinit:0,smscrollfnprev:"phone_",touchpreventDefault:!1,boleonclick:!1,scrollbottomfn:"topmax",mousewheelflag:!0},s={hei_father:0,hei_f_offhei:0,hei_f_offleft:0,hei_soncontent:0,hei_scrolly:0,hei_nowposition_y:0,hei_scrolltop_y:0,hei_nowposition_y_up:0,hei_click_top:0,hei_scroll_y_height:0,hei_e_s_y_hei:0,hei_scrollheight:0,wid_father:0,wid_f_offwid:0,wid_soncontent:0,wid_scrollx:0,wid_nowposition_x:0,wid_np_x_left:0,wid_scrollleft_x:0,wid_click_left:0,wid_scroll_x_width:0,wid_e_s_wid:0,wid_scrollwidth:0};if(this.cfg={},_extends(this.cfg,e,s,t),this.domFn(),1!=this.cfg.marginstep&&"true"!=this.cfg.marginstep||(this.cfg.marginstep=this.getIdClass(this.cfg.father,this.cfg.soncontent).clientHeight/this.getId(this.cfg.father).clientHeight*5,this.cfg.marginstep<=5&&(this.cfg.marginstep=5)),this.cfg.boleonclick&&(this.cfg.marginstep=this.cfg.marginstepbole),!this.cfg.resetinit)return"none"!=this.getId(this.cfg.father).style.display&&(this.offsetval(),void this.init());"wheely"==this.cfg.wheelxory?(this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginTop="0px",this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top="0px"):"wheelx"==this.cfg.wheelxory&&(this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginLeft="0px",this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left="0px")}},{key:"domFn",value:function(){this.cfg.showObj=this.getId(this.cfg.father),this.cfg.showObj.setAttribute("class",this.cfg.fatherclass);var t="";t+='<div class="scrollson" >',t+=this.cfg.showObj.innerHTML,t+='</div>\n\t\t\t\t\t<div class="scroll_ymove">\n\t\t\t\t\t\t<div class="scroll_y" ></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="scroll_xmove">\n\t\t\t\t\t\t<div class="scroll_x"></div>\n\t\t\t\t\t</div>',this.cfg.showObj.innerHTML=t}},{key:"offsetval",value:function(){this.cfg.hei_f_offhei=this.getId(this.cfg.father).offsetTop,this.cfg.hei_father=this.getId(this.cfg.father).clientHeight,this.cfg.hei_soncontent=this.getIdClass(this.cfg.father,this.cfg.soncontent).clientHeight,this.cfg.wid_f_offwid=this.getId(this.cfg.father).offsetLeft,this.cfg.wid_father=this.getId(this.cfg.father).clientWidth,this.cfg.wid_soncontent=this.getIdClass(this.cfg.father,this.cfg.soncontent).clientWidth,this.getIdClass(this.cfg.father,this.cfg.scroll_ymove).style.height=this.getId(this.cfg.father).clientHeight,this.getIdClass(this.cfg.father,this.cfg.scroll_ymove).style.width=this.getId(this.cfg.father).clientWidth,this.cfg.hei_father<this.cfg.hei_soncontent?(this.getIdClass(this.cfg.father,this.cfg.scroll_ymove).style.display="block",this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.display="block",this.cfg.hei_scrolly=this.cfg.hei_father*(this.cfg.hei_father/this.cfg.hei_soncontent),this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.height=this.cfg.hei_scrolly+"px"):(this.getIdClass(this.cfg.father,this.cfg.scroll_ymove).style.display="none",this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.display="none"),this.cfg.wid_father<this.cfg.wid_soncontent?(this.getIdClass(this.cfg.father,this.cfg.scroll_xmove).style.display="block",this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.display="block",this.cfg.wid_scrollx=this.cfg.wid_father*(this.cfg.wid_father/this.cfg.wid_soncontent),this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.width=this.cfg.wid_scrollx+"px"):(this.getIdClass(this.cfg.father,this.cfg.scroll_xmove).style.display="none",this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.display="none")}},{key:"getId",value:function(t){return document.getElementById(t)}},{key:"getIdClass",value:function(t,e){return document.getElementById(t).querySelector("."+e)}},{key:"wheely",value:function(){"auto"!=this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.display&&""!=this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.display||(this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top="0px");var t=this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top;this.cfg.hei_scroll_y_height=parseFloat(""==t?0:t),this.cfg.hei_e_s_y_hei=parseInt(this.cfg.hei_father-this.cfg.hei_scrolly);var e=(this.cfg.hei_soncontent-this.cfg.hei_father)/this.cfg.hei_e_s_y_hei;this.cfg.hei_scrollheight=this.cfg.hei_scroll_y_height*e,this.cfg.wheelval>=0?this.cfg.hei_scroll_y_height>=this.cfg.hei_e_s_y_hei?(this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top=this.cfg.hei_e_s_y_hei+"px",this.cfg.hei_scroll_y_height=this.cfg.hei_e_s_y_hei,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginTop=-this.cfg.hei_soncontent+this.cfg.hei_father+"px",window[this.cfg.scrollbottomfn]&&window[this.cfg.scrollbottomfn](_this)):parseFloat(this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top)+parseFloat(this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.height)>=parseFloat(this.cfg.hei_father)-this.cfg.marginstep?(this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top=this.cfg.hei_e_s_y_hei+"px",this.cfg.hei_scroll_y_height=this.cfg.hei_e_s_y_hei,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginTop=-this.cfg.hei_soncontent+this.cfg.hei_father+"px"):(this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top=(this.cfg.hei_scrollheight+this.cfg.marginstep)/e+"px",this.cfg.hei_scroll_y_height=(this.cfg.hei_scrollheight+this.cfg.marginstep)/e,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginTop=-this.cfg.hei_scrollheight-this.cfg.marginstep+"px"):this.cfg.wheelval<0&&(this.cfg.hei_scroll_y_height<=0?(this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top="0px",this.cfg.hei_scroll_y_height=0,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginTop="0px"):this.cfg.hei_scroll_y_height-e/this.cfg.marginstep<=0?(this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top="0px",this.cfg.hei_scroll_y_height=0,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginTop="0px"):(this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top=(this.cfg.hei_scrollheight-this.cfg.marginstep)/e+"px",this.cfg.hei_scroll_y_height=(this.cfg.hei_scrollheight-this.cfg.marginstep)/e,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginTop=-this.cfg.hei_scrollheight+this.cfg.marginstep+"px"))}},{key:"wheelx",value:function(){"auto"==this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left&&(this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left="0px");var t=this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left;this.cfg.wid_scroll_x_width=parseInt(""==t?0:t),this.cfg.wid_e_s_wid=this.cfg.wid_father-this.cfg.wid_scrollx;var e=(this.cfg.wid_soncontent-this.cfg.wid_father)/this.cfg.wid_e_s_wid;this.cfg.wid_scrollwidth=this.cfg.wid_scroll_x_width*e,this.cfg.wheelval>=0?this.cfg.wid_scroll_x_width>=this.cfg.wid_e_s_wid?(this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left=this.cfg.wid_e_s_wid+"px",this.cfg.wid_scroll_x_width=this.cfg.wid_e_s_wid,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginLeft=-this.cfg.wid_soncontent+this.cfg.wid_father+"px",window[this.cfg.scrollbottomfn]&&window[this.cfg.scrollbottomfn](_this)):this.cfg.wid_scroll_x_width+parseInt(this.getIdClass(this.cfg.father,this.cfg.scroll_x).clientWidth)>=this.cfg.wid_father-this.cfg.marginstep?(this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left=this.cfg.wid_e_s_wid+"px",this.cfg.wid_scroll_x_width=this.cfg.wid_e_s_wid,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginLeft=-this.cfg.wid_soncontent+this.cfg.wid_father+"px"):(this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left=(this.cfg.wid_scrollwidth+this.cfg.marginstep)/e+"px",this.cfg.wid_scroll_x_width=(this.cfg.wid_scrollwidth+this.cfg.marginstep)/e,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginLeft=-this.cfg.wid_scrollwidth-this.cfg.marginstep+"px"):this.cfg.wheelval<0&&(this.cfg.wid_scroll_x_width<=0?(this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left="0px",this.cfg.wid_scroll_x_width=0,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginLeft="0px"):this.cfg.wid_scroll_x_width-e/this.cfg.marginstep<=0?(this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left="0px",this.cfg.wid_scroll_x_width=0,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginLeft="0px"):(this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left=(this.cfg.wid_scrollwidth-this.cfg.marginstep)/e+"px",this.cfg.wid_scroll_x_width=(this.cfg.wid_scrollwidth-this.cfg.marginstep)/e,this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginLeft=-this.cfg.wid_scrollwidth+this.cfg.marginstep+"px"))}},{key:"scrollings",value:function(){for(var t=this,e="",s=this.getId(this.cfg.father).querySelectorAll("."+this.cfg.soncontent),i=0;i<s.length;i++)s[i].onmouseover=function(){t.cfg.father=e=t.getId(t.cfg.getfatherid).value=this.parentElement.getAttribute("id"),t.cfg.wheelxory=t.getId(e).getAttribute("wheelxory");var s=t.getId(e).clientHeight,i=t.getId(e).clientWidth;s<this.clientHeight&&"wheely"==t.cfg.wheelxory||s>this.clientHeight&&"wheely"==t.cfg.wheelxory&&top.location.href!=location.href||i<this.clientWidth&&"wheelx"==t.cfg.wheelxory||i>this.clientWidth&&"wheelx"==opt.cfg.wheelxory&&top.location.href!=location.href?t.cfg.mousewheelflag&&(document.body.onmousewheel=function(){return!1}):document.body.onmousewheel=null,t.smscrollfn=t.smscrollfnprv+e};this.offsetval(),"wheely"==this.cfg.wheelxory?this.wheely():"wheelx"==this.cfg.wheelxory&&this.wheelx(),window[this.smscrollfn]&&window[this.smscrollfn](this.cfg.father,this.cfg.wheelval)}},{key:"onmouseclick",value:function(){if(!navigator.userAgent.match(/(iPhone|Android|iPad)/i)){var t,e;t=this.getId(this.cfg.getfatherid).value,this.getId(t).clientWidth,this.getId(t).clientHeight,e=!1,this.smscrollfn=this.smscrollfnprv+t;var s=this;this.cfg.wheelxory,this.getId(t).querySelector("."+this.cfg.scroll_y).onmousedown=function(t){(t=window.event||t).preventDefault?t.preventDefault():t.returnValue=!1,e=!0,s.cfg.hei_nowposition_y=t.pageY||t.clientY;var i=this.style.top;if("auto"==i&&(i="0px"),s.cfg.hei_scroll_y_height=parseInt(i),s.cfg.hei_click_top=s.cfg.hei_nowposition_y-s.cfg.hei_f_offhei-s.cfg.hei_scroll_y_height,e){document.onmousemove=function(t){(t=window.event||t).preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0),s.cfg.hei_scroll_y_height=parseInt(s.getIdClass(s.cfg.father,s.cfg.scroll_y).style.top),s.cfg.hei_nowposition_y_up=t.pageY||t.clientY,s.cfg.hei_scrolltop_y=s.cfg.hei_nowposition_y_up-s.cfg.hei_f_offhei-s.cfg.hei_click_top,s.cfg.hei_e_s_y_hei=s.cfg.hei_father-s.cfg.hei_scrolly,s.cfg.hei_soncontent=s.getIdClass(s.cfg.father,s.cfg.soncontent).clientHeight,s.cfg.hei_father=s.getId(s.cfg.father).clientHeight,s.cfg.hei_scrollheight=s.cfg.hei_scroll_y_height*((s.cfg.hei_soncontent-s.cfg.hei_father)/s.cfg.hei_e_s_y_hei),s.cfg.hei_scrolltop_y<=0?(s.getIdClass(s.cfg.father,s.cfg.scroll_y).style.top="0px",s.getIdClass(s.cfg.father,s.cfg.soncontent).style.marginTop="0px"):s.cfg.hei_scrolltop_y>=s.cfg.hei_e_s_y_hei?(s.getIdClass(s.cfg.father,s.cfg.scroll_y).style.top=s.cfg.hei_e_s_y_hei+"px",s.getIdClass(s.cfg.father,s.cfg.soncontent).style.marginTop=-(s.cfg.hei_soncontent-s.cfg.hei_father)+"px",window[s.smsscrollbottomfn]&&window[s.smsscrollbottomfn](s)):(s.getIdClass(s.cfg.father,s.cfg.scroll_y).style.top=s.cfg.hei_scrolltop_y+"px",s.getIdClass(s.cfg.father,s.cfg.soncontent).style.marginTop=-s.cfg.hei_scrollheight+"px")}}},this.getId(t).querySelector("."+this.cfg.scroll_x).onmousedown=function(i){(i=window.event||i).preventDefault?i.preventDefault():i.returnValue=!1,e=!0,s.cfg.wid_nowposition_x=i.pageX||i.clientX;var c=this.style.left;"auto"!=c&&""!=c||(c="0px"),s.cfg.wid_scroll_x_width=parseInt(c),s.cfg.wid_click_left=s.cfg.wid_nowposition_x-s.cfg.wid_f_offwid-s.cfg.wid_scroll_x_width,e&&(document.onmousemove=function(e){(e=window.event||e).preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0),s.cfg.wid_scroll_x_width=parseInt(s.getIdClass(t,s.cfg.scroll_x).style.left),s.cfg.wid_np_x_left=e.pageX||e.clientX,s.cfg.wid_scrollleft_x=s.cfg.wid_np_x_left-s.cfg.wid_f_offwid-s.cfg.wid_click_left,s.cfg.wid_e_s_wid=s.cfg.wid_father-s.cfg.wid_scrollx,s.cfg.wid_soncontent=s.getIdClass(t,s.cfg.soncontent).clientWidth,s.cfg.wid_father=s.getId(t).clientWidth,s.cfg.wid_scrollwidth=s.cfg.wid_scroll_x_width*((s.cfg.wid_soncontent-s.cfg.wid_father)/s.cfg.wid_e_s_wid),s.cfg.wid_scrollleft_x<=0?(s.getIdClass(t,s.cfg.scroll_x).style.left="0px",s.getIdClass(t,s.cfg.soncontent).style.marginLeft="0px"):s.cfg.wid_scrollleft_x>=s.cfg.wid_e_s_wid?(s.getIdClass(t,s.cfg.scroll_x).style.left=s.cfg.wid_e_s_wid+"px",s.getIdClass(t,s.cfg.soncontent).style.marginLeft=-(s.cfg.wid_soncontent-s.cfg.wid_father)+"px",window[s.smsscrollbottomfn]&&window[s.smsscrollbottomfn](s)):(s.getIdClass(t,s.cfg.scroll_x).style.left=s.cfg.wid_scrollleft_x+"px",s.getIdClass(t,s.cfg.soncontent).style.marginLeft=-s.cfg.wid_scrollwidth+"px")})},document.onmouseup=function(){e=!1,document.body.onmousewheel=null,document.onmousemove=null,window[this.smscrollfn]&&window[this.smscrollfn](t,s.cfg.wheelval)}}}},{key:"addElement",value:function(){if(this.offsetval(),"wheely"==this.cfg.wheelxory){this.cfg.hei_scrolly=this.cfg.hei_father*(this.cfg.hei_father/this.cfg.hei_soncontent),this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.height=this.cfg.hei_scrolly+"px",this.cfg.hei_e_s_y_hei=parseInt(this.cfg.hei_father-this.cfg.hei_scrolly);var t=(this.cfg.hei_soncontent-this.cfg.hei_father)/this.cfg.hei_e_s_y_hei,e=Math.abs(parseFloat(this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginTop));this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top=e/t+"px",this.cfg.hei_scroll_y_height=e/t}else if("wheelx"==this.cfg.wheelxory){this.cfg.wid_scrollx=this.cfg.wid_father*(this.cfg.wid_father/this.cfg.wid_soncontent),this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.width=this.cfg.wid_scrollx+"px",this.wid_e_s_x_wid=parseInt(this.cfg.wid_father-this.cfg.wid_scrollx);t=(this.cfg.wid_soncontent-this.cfg.wid_father)/this.wid_e_s_x_wid,Math.abs(parseFloat(this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginLeft));this.getIdClass(this.cfg.father,this.cfg.scroll_x).style.left=e/t+"px",this.cfg.wid_scroll_x_width=e/t}}},{key:"scrollFunc",value:function(t){return function(e){var s,i,c,h,n,o=window.event||e;s=o.pageX||o.clientX,i=o.pageY||o.clientY,n=t.getId(t.cfg.getfatherid).value;var f=t.getId(n).clientHeight,l=t.getId(n).clientWidth,a=t.getIdClass(n,t.cfg.soncontent).clientHeight,g=t.getIdClass(n,t.cfg.soncontent).clientWidth;if(t.getIdClass(n,t.cfg.soncontent).style.transitionDuration="0s",f<a&&"wheely"==t.cfg.wheelxory||f>a&&"wheely"==t.cfg.wheelxory&&top.location.href!=location.href||l<g&&"wheelx"==t.cfg.wheelxory||l>g&&"wheelx"==t.cfg.wheelxory&&top.location.href!=location.href){if(t.cfg.mousewheelflag&&(document.body.onmousewheel=function(){return!1}),void 0!=document.getElementById(n).offsetTop)if(h=t.getoffset(t.getId(n)).top,c=t.getoffset(t.getId(n)).left,void 0==s&&(s=c),void 0==i&&(i=h),s>=c&&s<=c+g&&i>=h&&i<=h+a){if(o.wheelDelta){r=parseInt(o.wheelDelta);t.cfg.father=n,t.cfg.wheelval=r>0?-1:1}else if(o.detail){var r=parseInt(o.detail);t.cfg.father=n,t.cfg.wheelval=r>=0?1:-1}t.scrollings()}else document.body.onmousewheel=null}else document.body.onmousewheel=null}}},{key:"getStyle",value:function(t,e){return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}},{key:"getoffset",value:function(t,e){if(null==t)return e;e||((e={}).top=0,e.left=0);var s=this.getStyle(t,"position");if("absolute"==s||"relative"==s){if(t.getBoundingClientRect&&null!=navigator.userAgent.toLowerCase().match(/.(msie)/))return e.top+=t.getBoundingClientRect.top,e.left+=t.getBoundingClientRect.left,e;e.top+=t.offsetTop,e.left+=t.offsetLeft}else e.top+=0,e.left+=0;return this.getoffset(t.parentElement,e)}},{key:"init",value:function(){s=this;if(!document.querySelector("."+this.cfg.getfatherid)){var t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("class",this.cfg.getfatherid),t.setAttribute("id",this.cfg.getfatherid),t.setAttribute("value",this.cfg.father),document.body.appendChild(t)}if(this.getId(this.cfg.father).setAttribute("wheelxory",this.cfg.wheelxory),this.getId(this.cfg.getfatherid).value=this.cfg.father,this.scrollings(),this.addElement(),this.onmouseclick(),this.scrollFunc(),navigator.userAgent.match(/(iPhone|Android|iPad|Mobile|uc)/i)||this.smsboleonclick){var e=document.getElementById(this.cfg.father),s=this;e.addEventListener("touchstart",function(){s.touchStart(s)},!1),e.addEventListener("touchmove",function(){s.touchMove(s)},!1),e.addEventListener("touchend",function(){s.touchEnd(s)},!1),this.smsboleonclick&&(null!=navigator.userAgent.toLowerCase().match(/firefox/)?document.addEventListener("DOMMouseScroll",this.scrollFunc,!1):window.onmousewheel=document.onmousewheel=this.scrollFunc)}else document.addEventListener&&(null!=navigator.userAgent.toLowerCase().match(/firefox/)?document.addEventListener("DOMMouseScroll",function(t){s.scrollFunc(s)(t)},!1):window.onmousewheel=document.onmousewheel=function(t){s.scrollFunc(s)(t)});if("top"==this.cfg.scrolltop)this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginTop="0px",this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top="0px";else if("bottom"==this.cfg.scrolltop&&this.getId(this.cfg.father).clientHeight<=this.getIdClass(this.cfg.father,this.cfg.soncontent).clientHeight){var i=this.getId(this.cfg.father).clientHeight-this.getIdClass(this.cfg.father,this.cfg.scroll_y).clientHeight,c=this.getIdClass(this.cfg.father,this.cfg.soncontent).clientHeight-this.getId(this.cfg.father).clientHeight;this.getIdClass(this.cfg.father,this.cfg.soncontent).style.marginTop=-c+"px",this.getIdClass(this.cfg.father,this.cfg.scroll_y).style.top=i+"px"}}},{key:"touchStart",value:function(){var t=window.event||e;this.cfg.touchpreventDefault&&(document.body.ontouchstart=function(t){var e=window.event||t;e.preventDefault(),e.stopPropagation()},t.preventDefault()),this.cfg.wheelxory=this.getId(this.cfg.father).getAttribute("wheelxory"),window.touch=t.touches[0];var s=Number(touch.pageX),i=Number(touch.pageY);this.startX=s,this.startY=i,this.lastX=s,this.lastY=i}},{key:"touchMove",value:function(t){var e=window.event||t,s=(this.cfg.father,this.getId(this.cfg.father).clientHeight),i=this.getId(this.cfg.father).clientWidth,c=this.getIdClass(this.cfg.father,this.cfg.soncontent).clientHeight,h=this.getIdClass(this.cfg.father,this.cfg.soncontent).clientWidth;if(s>=c&&"wheely"==this.cfg.wheelxory||i>h&&"wheelx"==this.cfg.wheelxory)return!1;this.cfg.touchpreventDefault&&(document.body.ontouchmove=function(t){var e=window.event||t;e.preventDefault(),e.stopPropagation()},e.preventDefault());var n=e.touches[0];this.lastX=Number(n.pageX),this.lastY=Number(n.pageY);var o,f;o=this.lastY-this.startY,f=this.lastX-this.startX,Math.abs(o)>Math.abs(f)?this.cfg.wheelval=o>=0?-1:1:this.cfg.wheelval=f>=0?-1:1,this.scrollings()}},{key:"touchEnd",value:function(t){window.event;this.cfg.touchpreventDefaultflag=!0,(Math.abs(this.lastY)-Math.abs(this.startY)>=5||Math.abs(this.lastX)-Math.abs(this.startX)>=5)&&(this.cfg.touchpreventDefaultflag=!1),document.body.ontouchstart=null,document.body.ontouchmove=null,window.scrollTouchPreventDefault&&this.cfg.touchpreventDefaultflag&&window.scrollTouchPreventDefault(this.cfg.father)}}]),t}(),CFCMCalendar=function(){function t(e){_classCallCheck(this,t),this.initVal(e)}return _createClass(t,[{key:"getId",value:function(t){return document.getElementById(t)}},{key:"getClassAll",value:function(t){return document.querySelectorAll(t)}},{key:"remove",value:function(t){var e=t.parentNode;e&&e.removeChild(t)}},{key:"parents",value:function(t,e){if(t.className==e)return t;t=t.parentNode,this.parents(t,e)}},{key:"initVal",value:function(t,e){var s=this,i={id:"start",class:"calendar",init:!1,ymdhMs:"ymdhMs",min:!1,max:!1,flag:"-",disabled:!1,callback:!1,sure:!1,iconid:!1},c={timePartShow:"TimePartShow",error:"error",errorContent:"content",head:"head",yeararrowLeft:"yeararrowLeft",yeararrowRight:"yeararrowRight",montharrowLeft:"montharrowLeft",montharrowRight:"montharrowRight",headtxt:"txt",headtxtyear:"year",headtxtmonth:"month",daylist:"daylist",daylistday:"day",Hms:"hms",Hmshour:"hour",Hmsminutes:"minutes",Hmsseconds:"seconds",hmslist:"hmslist",hourlist:"hourlist",minuteslist:"minuteslist",secondslist:"secondslist",sure:"sure"};if(this.cfg={},_extends(this.cfg,i,c,t),this.cfg.disabled)return!1;this.cfg.init?this.cfg.Origin=this.newDate(this.cfg.init):this.cfg.Origin=this.newDate(),this.cfg.OriginObj=this.minmaxobj(this.cfg.Origin);var h=this.cfg.ymdhMs.match(/[h|M|s]/g);this.cfg.hms=null!=h,this.cfg.hms&&(this.cfg.hmsObj={},h.map(function(t){return s.cfg.hmsObj[t]=!0})),this.initCommonVal()}},{key:"initCommonVal",value:function(t){var e=this.cfg.Obj=this.getId(this.cfg.id);e.setAttribute("class",this.cfg.class),this.cfg.init?this.cfg.init=this.newDate(this.cfg.init):this.cfg.init=this.newDate(),this.cfg.min&&(this.cfg.minObj=this.minmaxobj(this.cfg.min),this.cfg.init.getTime()<=this.cfg.minObj.time&&(this.cfg.init=this.newDate(this.cfg.min),console.warn("初始时间不能小于开始时间，系统自动获取@min日期"))),this.cfg.max&&(this.cfg.maxObj=this.minmaxobj(this.cfg.max),this.cfg.init.getTime()>=this.cfg.maxObj.time&&(this.cfg.init=this.newDate(this.cfg.max),console.warn("初始时间不能大于结束时间，系统自动获取@max日期"))),this.cfg.week=this.cfg.init.getDay(),t||(e.value=this.formDate(this.cfg.init,!0)),this.cfg.daynum=this.getday(this.cfg.month,this.cfg.year),this.cfg.prevdaynum=this.getday(this.cfg.month-1,this.cfg.year),this.cfg.nextdaynum=this.getday(this.cfg.month+1,this.cfg.year),this.domAppend(),this.inputEvent(),this.documentEvent()}},{key:"minmaxobj",value:function(t){var e={},s=this.newDate(t);return e.date=t,e.year=s.getFullYear(),e.month=s.getMonth()+1,e.day=s.getDate(),e.hour=s.getHours(),e.minutes=s.getMinutes(),e.seconds=s.getSeconds(),e.time=s.getTime(),e}},{key:"callback",value:function(){if("function"==typeof this.cfg.callback){var t=void 0;if(this.cfg.day>this.cfg.daynum)return console.error("日历错误信息：当前月没有（"+this.cfg.day+"）号，(系统自动返回当前日期)或者请选择当前月的天数"),void this.error("当前月没有"+this.cfg.day+"号，请选择！");(t={}).year=this.cfg.year,t.month=this.cfg.month,t.day=this.cfg.day,t.hour=this.cfg.hour,t.minutes=this.cfg.minutes,t.seconds=this.cfg.seconds,t.date=t.year+this.cfg.flag+t.month+this.cfg.flag+t.day+" "+t.hour+":"+t.minutes+":"+t.seconds,this.cfg.showObj.style.left="-10000px",this.cfg.callback(t)}}},{key:"newDate",value:function(t){return t?new Date(t).toString().indexOf("Invalid")?new Date(t):this.newDateFuckIe(t):new Date}},{key:"newDateFuckIe",value:function(t){for(var e=0,s=0,i=0,c=0,h=0,n=0,o=void 0,f=this.cfg.ymdhMs.length,l=0;l<f;l++)switch(this.cfg.ymdhMs[l]){case"y":e=(o=this.newDateFuckIeSwitch(t,this.cfg.flag,4,5)).val,t=o.param;break;case"m":s=(o=this.newDateFuckIeSwitch(t,this.cfg.flag,2,3)).val,t=o.param;break;case"d":i=(o=this.newDateFuckIeSwitch(t,this.cfg.flag,2,3)).val,t=o.param;break;case"h":c=(o=this.newDateFuckIeSwitch(t,":",2,3)).val,t=o.param;break;case"M":h=(o=this.newDateFuckIeSwitch(t,":",2,3)).val,t=o.param;break;case"s":n=t.substr(0,2)}return new Date(e,s,i,c,h,n)}},{key:"newDateFuckIeSwitch",value:function(t,e,s,i){var c={},h=t.substr(0,s),n=new RegExp(""+e,"g");return h.match(n)?(c.val=parseInt(h),c.param=t.substr(s)):(c.val=parseInt(h),c.param=t.substr(i)),c}},{key:"formDate",value:function(t,e){for(var s=this.newDate(t),i="",c=0,h=this.cfg.ymdhMs.length,n=0;n<this.cfg.ymdhMs.length;n++)switch(this.cfg.ymdhMs[n]){case"y":c++;var o=s.getFullYear();e&&(this.cfg.year=o),i+=o+(c==h?" ":this.cfg.flag);break;case"m":c++;var f=s.getMonth()+1;e&&(this.cfg.month=f),i+=(f<10?"0"+f:f)+(c==h?" ":this.cfg.flag);break;case"d":c++;var l=s.getDate();e&&(this.cfg.day=l),i+=(l<10?"0"+l:l)+(c==h?" ":this.cfg.flag);break;case"h":c++;var a=s.getHours();e&&(this.cfg.hour=a),i.substr(-1)==this.cfg.flag&&(i=i.substr(0,i.length-1)+" "),i+=(a<10?"0"+a:a)+(c==h?" ":":");break;case"M":c++;var g=s.getMinutes();e&&(this.cfg.minutes=g),i+=(g<10?"0"+g:g)+(c==h?" ":":");break;case"s":c++;var r=s.getSeconds();e&&(this.cfg.seconds=r),i+=r<10?"0"+r:r}return i}},{key:"timeFormat",value:function(t,e,s,i,c,h){return t||(t=0),e||(e=0),s?s>this.cfg.nextdaynum&&(s=1):s=0,i||(i=0),c||(c=0),h||(h=0),t+this.cfg.flag+e+this.cfg.flag+s+this.cfg.flag+" "+i+":"+c+":"+h}},{key:"getday",value:function(t,e){switch(t){case 0:case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 2:return e%4!=0||e%100==0&&e%400!=0?28:29;case 4:case 6:case 9:case 11:return 30}}},{key:"inputEvent",value:function(){var t=this.cfg.Obj,e=this,s=this.cfg.Obj.offsetLeft;this.cfg.Obj.offsetTop,this.cfg.Obj.clientHeight;t.onfocus=function(t){var e=t||window.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.blur()},t.onclick=function(t){e.timePartHide();var i=t||window.event;i.stopPropagation?i.stopPropagation():i.cancelBubble=!0,parseInt(e.cfg.showObj.style.left)>=0?e.cfg.showObj.style.left=-1e4+"px":e.cfg.showObj.style.left=s+"px"},this.cfg.iconid&&(this.getId(this.cfg.iconid).onclick=function(e){var s=e||window.event;s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,t.onclick()})}},{key:"domAppend",value:function(){var t=this.cfg.id+"_"+this.cfg.class,e=(this.cfg.Obj.offsetLeft,this.cfg.Obj.offsetTop),s=this.cfg.Obj.clientHeight;if(this.getId(t))this.cfg.showObj.innerHTML=this.domFn();else{var i=document.createElement("div");i.setAttribute("id",t),i.setAttribute("class","TimePartShow"),i.setAttribute("style","left:-10000px;top:"+(s+e+1)+"px;"),i.innerHTML=this.domFn(),document.body.appendChild(i),this.cfg.showObj=this.getId(t)}this.cfg.sure||this.cfg.hms?this.cfg.showObj.style.height="282px":this.cfg.showObj.style.height="250px",this.yeararrowEvent(),this.montharrowEvent(),this.dayEvent(),this.cfg.hms&&this.hmsEvent(),this.sureEvent()}},{key:"domFn",value:function(){var t="\n\t\t\t<div class='"+this.cfg.error+"'>\n\t\t\t\t<div class='"+this.cfg.head+"'>信息提示</div>\n\t\t\t\t<div class='"+this.cfg.errorContent+"'></div>\n\t\t\t</div>\n\t\t\t<div class=\""+this.cfg.head+"\">\n\t\t\t\t<span class='"+this.cfg.yeararrowLeft+"'><<</span>\t\n\t\t\t\t<span class='"+this.cfg.montharrowLeft+"'><</span>\t\n\t\t\t\t<div class='"+this.cfg.headtxt+"'>\n\t\t\t\t\t<span class='"+this.cfg.headtxtyear+"'>"+this.cfg.year+"</span>\n\t\t\t\t\t<span class='"+this.cfg.headtxtmonth+"'>"+(this.cfg.month<10?"0"+this.cfg.month:this.cfg.month)+"</span>\n\t\t\t\t</div>\n\t\t\t\t<span class='"+this.cfg.montharrowRight+"'>></span>\n\t\t\t\t<span class='"+this.cfg.yeararrowRight+"'>>></span>\n\t\t\t</div>\n\t\t\t<div class=\""+this.cfg.daylist+"\">\n\t\t\t\t<div class='head'>\n\t\t\t\t\t<span>日</span>\n\t\t\t\t\t<span>一</span>\n\t\t\t\t\t<span>二</span>\n\t\t\t\t\t<span>三</span>\n\t\t\t\t\t<span>四</span>\n\t\t\t\t\t<span>五</span>\n\t\t\t\t\t<span>六</span>\n\t\t\t\t</div>\n\t\t\t\t<div class='"+this.cfg.daylistday+"'>\n\t\t\t\t\t"+this.domDay()+"\n\t\t\t\t</div>\n\t\t\t</div>";return this.cfg.hms&&(t+='\n\t\t\t<div class="'+this.cfg.Hms+"\">\n\t\t\t\t<span class='"+this.cfg.Hmshour+"' data-content='"+(this.cfg.hmsObj.M?":":"")+"' style=\"display:"+(this.cfg.hmsObj.h?"block":"none")+'">'+(this.cfg.hour<10?"0"+this.cfg.hour:this.cfg.hour)+"</span>\n\t\t\t\t<span class='"+this.cfg.Hmsminutes+" 'data-content='"+(this.cfg.hmsObj.s?":":"")+"' style=\"display:"+(this.cfg.hmsObj.M?"block":"none")+'">'+(this.cfg.minutes<10?"0"+this.cfg.minutes:this.cfg.minutes)+"</span>\n\t\t\t\t<span class='"+this.cfg.Hmsseconds+" 'data-content='' style=\"display:"+(this.cfg.hmsObj.s?"block":"none")+'">'+(this.cfg.seconds<10?"0"+this.cfg.seconds:this.cfg.seconds)+"</span>\n\t\t\t\t<div class='"+this.cfg.hmslist+"'>\n\t\t\t\t\t<div class=\""+this.cfg.head+'">\n\t\t\t\t\t\t<span style="display:'+(this.cfg.hmsObj.h?"block":"none")+";width:"+(this.cfg.hmsObj.M?this.cfg.hmsObj.s?"76px":"115px":"100%")+'">时</span>\n\t\t\t\t\t\t<span style="display:'+(this.cfg.hmsObj.M?"block":"none")+";width:"+(this.cfg.hmsObj.s?"33%":"50%")+'">分</span>\n\t\t\t\t\t\t<span style="display:'+(this.cfg.hmsObj.s?"block":"none")+"\">秒</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='"+this.cfg.hourlist+"' style=\"display:"+(this.cfg.hmsObj.h?"block":"none")+";width:"+(this.cfg.hmsObj.M?this.cfg.hmsObj.s?"76px":"115px":"100%")+'">\n\t\t\t\t\t\t<div  id="'+this.cfg.id+"_"+this.cfg.hourlist+'" style="width:'+(this.cfg.hmsObj.M?this.cfg.hmsObj.s?"76px":"115px":"230px")+'">\n\t\t\t\t\t\t\t'+this.domHour(24,this.cfg.hour)+"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='"+this.cfg.minuteslist+"' style=\"display:"+(this.cfg.hmsObj.M?"block":"none")+";width:"+(this.cfg.hmsObj.s?"76px":"115px")+'"">\n\t\t\t\t\t\t<div  id="'+this.cfg.id+"_"+this.cfg.minuteslist+'" style="width:'+(this.cfg.hmsObj.s?"76px":"115px")+'">\n\t\t\t\t\t\t\t'+this.domHour(60,this.cfg.minutes)+"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='"+this.cfg.secondslist+"' style=\"display:"+(this.cfg.hmsObj.s?"block":"none")+'">\n\t\t\t\t\t\t<div  id="'+this.cfg.id+"_"+this.cfg.secondslist+'" style="width:78px">\n\t\t\t\t\t\t\t'+this.domHour(60,this.cfg.seconds)+"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>"),t+='\n\t\t\t<div class="sure" style="display:'+(this.cfg.sure?"block":"none")+'">确定</div>\n\t\t'}},{key:"error",value:function(t){var e=this.cfg.showObj.querySelector("."+this.cfg.error);e.querySelector("."+this.cfg.errorContent).textContent=t,e.style.left=0,setTimeout(function(){e.style.left="-1000px"},2e3)}},{key:"domDay",value:function(){var t=this;this.cfg.oneWeek=this.newDate(this.cfg.init.getTime()-24*(this.cfg.day-1)*3600*1e3).getDay();var e="";0==this.cfg.oneWeek?this.cfg.oneWeek=7:this.cfg.oneWeek=this.cfg.oneWeek,e+=this.dayprev(this.cfg.oneWeek);for(var s=1;s<=this.cfg.daynum;s++)t.cfg.min&&t.cfg.minObj.year==t.cfg.year&&t.cfg.minObj.month==t.cfg.month&&s<t.cfg.minObj.day?e+="<span class='disabled'>"+(s<10?"0"+s:s)+"</span>":t.cfg.max&&t.cfg.maxObj.year==t.cfg.year&&t.cfg.maxObj.month==t.cfg.month&&s>t.cfg.maxObj.day?e+="<span class='disabled'>"+(s<10?"0"+s:s)+"</span>":s==t.cfg.OriginObj.day?e+="<span class='selected'>"+(s<10?"0"+s:s)+"</span>":e+="<span class='normal'>"+(s<10?"0"+s:s)+"</span>";this.cfg.dayselected=!0;var i=42-this.cfg.oneWeek-this.cfg.daynum;return e+=this.daynext(i)}},{key:"dayprev",value:function(t){for(var e="",s=this.cfg.prevdaynum;s>this.cfg.prevdaynum-t;s--)e+="<span class='prev disabled'>"+s+"</span>";return e}},{key:"daynext",value:function(t){for(var e="",s=1;s<=t;s++)e+="<span class='next disabled'>"+(s<10?"0"+s:s)+"</span>";return e}},{key:"yeararrowEvent",value:function(){var t=this;this.cfg.rightyeararrow=this.cfg.showObj.querySelector(".yeararrowRight"),this.cfg.leftyeararrow=this.cfg.showObj.querySelector(".yeararrowLeft"),this.cfg.rightyeararrow.onclick=function(e){var s=e||window.event;if(s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,t.cfg.max&&t.cfg.maxObj.year==t.cfg.year)return!1;++t.cfg.year,t.cfg.init=t.timeFormat(t.cfg.year,t.cfg.month,t.cfg.day,t.cfg.hour,t.cfg.minutes,t.cfg.seconds),t.initCommonVal("year")},this.cfg.leftyeararrow.onclick=function(e){var s=e||window.event;if(s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,t.cfg.min&&t.cfg.minObj.year==t.cfg.year)return!1;--t.cfg.year,t.cfg.init=t.timeFormat(t.cfg.year,t.cfg.month,t.cfg.day,t.cfg.hour,t.cfg.minutes,t.cfg.seconds),t.initCommonVal("year")}}},{key:"montharrowEvent",value:function(){var t=this;this.cfg.rightmontharrow=this.cfg.showObj.querySelector("."+this.cfg.montharrowRight),this.cfg.leftmontharrow=this.cfg.showObj.querySelector("."+this.cfg.montharrowLeft),this.cfg.rightmontharrow.onclick=function(e){var s=e||window.event;if(s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,t.cfg.max&&t.cfg.maxObj.year==t.cfg.year&&t.cfg.maxObj.month==t.cfg.month)return!1;++t.cfg.month,t.cfg.month>12?(t.cfg.month=1,t.cfg.init=t.timeFormat(t.cfg.year,t.cfg.month,t.cfg.day,t.cfg.hour,t.cfg.minutes,t.cfg.seconds),t.cfg.rightyeararrow.click()):(t.cfg.init=t.timeFormat(t.cfg.year,t.cfg.month,t.cfg.day,t.cfg.hour,t.cfg.minutes,t.cfg.seconds),t.initCommonVal("month"))},this.cfg.leftmontharrow.onclick=function(e){var s=e||window.event;if(s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,t.cfg.min&&t.cfg.minObj.year==t.cfg.year&&t.cfg.minObj.month==t.cfg.month)return!1;--t.cfg.month,t.cfg.month<1?(t.cfg.month=12,t.cfg.init=t.timeFormat(t.cfg.year,t.cfg.month,t.cfg.day,t.cfg.hour,t.cfg.minutes,t.cfg.seconds),t.cfg.leftyeararrow.click()):(t.cfg.init=t.timeFormat(t.cfg.year,t.cfg.month,t.cfg.day,t.cfg.hour,t.cfg.minutes,t.cfg.seconds),t.initCommonVal("month"))};var e=this.cfg.showObj.querySelectorAll(".prev");Array.prototype.slice.call(e).forEach(function(e){e.onclick=function(e){var s=e||window.event;s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,t.cfg.leftmontharrow.click()}});var s=this.cfg.showObj.querySelectorAll(".next");Array.prototype.slice.call(s).forEach(function(e){e.onclick=function(e){var s=e||window.event;s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,t.cfg.rightmontharrow.click()}})}},{key:"hmsEvent",value:function(){var t=this,e=this.cfg.id+"_",s=this.getId(e+this.cfg.hourlist),i=this.cfg.showObj.querySelector("."+this.cfg.hmslist),c=new CFCMScroll({father:e+this.cfg.hourlist}),h=s.querySelectorAll("span"),n=s.querySelector(".scrollson"),o=this.cfg.showObj.querySelector("."+this.cfg.Hmshour);Array.prototype.slice.call(h).forEach(function(e){e.onclick=function(e){var i=e||window.event;i.stopPropagation?i.stopPropagation():i.cancelBubble=!0,s.querySelector(".selected").removeAttribute("class"),this.setAttribute("class","selected"),t.cfg.hour=1*this.textContent,o.textContent=t.cfg.hour<10?"0"+t.cfg.hour:t.cfg.hour,n.setAttribute("style","margin-top:"+-t.cfg.hour*h[0].clientHeight+"px;transitionDuration:0.5s"),c.addElement(),n.addEventListener("transitionend",function(){n.style.transitionDuration="0s"},!1),t.cfg.init=t.timeFormat(t.cfg.year,t.cfg.month,t.cfg.day,t.cfg.hour,t.cfg.minutes,t.cfg.seconds),t.cfg.Obj.value=t.formDate(t.cfg.init)}});var f=this.getId(e+this.cfg.minuteslist),l=new CFCMScroll({father:e+this.cfg.minuteslist}),a=f.querySelectorAll("span"),g=f.querySelector(".scrollson"),r=this.cfg.showObj.querySelector("."+this.cfg.Hmsminutes);Array.prototype.slice.call(a).forEach(function(e){e.onclick=function(e){var s=e||window.event;s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,f.querySelector(".selected").removeAttribute("class"),this.setAttribute("class","selected"),t.cfg.minutes=1*this.textContent,r.textContent=t.cfg.minutes<10?"0"+t.cfg.minutes:t.cfg.minutes,g.setAttribute("style","margin-top:"+-t.cfg.minutes*a[0].clientHeight+"px;transitionDuration:0.5s"),l.addElement(),g.addEventListener("transitionend",function(){g.style.transitionDuration="0s"},!1),t.cfg.init=t.timeFormat(t.cfg.year,t.cfg.month,t.cfg.day,t.cfg.hour,t.cfg.minutes,t.cfg.seconds),t.cfg.Obj.value=t.formDate(t.cfg.init)}});var d=this.getId(e+this.cfg.secondslist),u=new CFCMScroll({father:e+this.cfg.secondslist}),m=d.querySelectorAll("span"),y=d.querySelector(".scrollson"),_=this.cfg.showObj.querySelector("."+this.cfg.Hmsseconds);Array.prototype.slice.call(m).forEach(function(e){e.onclick=function(e){var s=e||window.event;s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,d.querySelector(".selected").removeAttribute("class"),this.setAttribute("class","selected"),t.cfg.seconds=1*this.textContent,_.textContent=t.cfg.seconds<10?"0"+t.cfg.seconds:t.cfg.seconds,y.setAttribute("style","margin-top:"+-t.cfg.seconds*m[0].clientHeight+"px;transitionDuration:0.5s"),u.addElement(),y.addEventListener("transitionend",function(){y.style.transitionDuration="0s"},!1),t.cfg.init=t.timeFormat(t.cfg.year,t.cfg.month,t.cfg.day,t.cfg.hour,t.cfg.minutes,t.cfg.seconds),t.cfg.Obj.value=t.formDate(t.cfg.init)}}),r.onclick=_.onclick=o.onclick=function(e){var s=e||window.event;s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,""==i.style.left||parseInt(i.style.left)<0?(t.cfg.hour&&h[t.cfg.hour].click(),t.cfg.minutes&&a[t.cfg.minutes].click(),t.cfg.seconds&&m[t.cfg.seconds].click(),i.style.left="0"):i.style.left="-10000px"}}},{key:"dayEvent",value:function(){var t=this,e=this.cfg.showObj.querySelectorAll("."+this.cfg.daylistday+" .normal"),s=this.cfg.showObj.querySelector("."+this.cfg.Hmshour),i=this.cfg.showObj.querySelector("."+this.cfg.Hmsminutes),c=this.cfg.showObj.querySelector("."+this.cfg.Hmsseconds);Array.prototype.slice.call(e).forEach(function(e){e.onclick=function(e){var h=e||window.event;h.stopPropagation?h.stopPropagation():h.cancelBubble=!0;var n=t.cfg.showObj.querySelector("."+t.cfg.daylistday+" .selected");n&&n.setAttribute("class","normal"),this.setAttribute("class","selected"),t.cfg.day=1*this.textContent,t.cfg.min&&t.cfg.minObj.year==t.cfg.year&&t.cfg.minObj.month==t.cfg.month&&t.cfg.day==t.cfg.minObj.day&&(t.cfg.minObj.hour>t.cfg.hour?s.textContent=t.cfg.hour=t.cfg.minObj.hour:t.cfg.minObj.hour==t.cfg.hour&&(t.cfg.minObj.minutes>t.cfg.minutes?i.textContent=t.cfg.minutes=t.cfg.minObj.minutes:t.cfg.minObj.minutes==t.cfg.minutes&&t.cfg.minObj.seconds>=t.cfg.seconds&&(c.textContent=t.cfg.seconds=t.cfg.minObj.seconds))),t.cfg.max&&t.cfg.maxObj.year==t.cfg.year&&t.cfg.maxObj.month==t.cfg.month&&t.cfg.day==t.cfg.maxObj.day&&(t.cfg.maxObj.hour<t.cfg.hour?s.textContent=t.cfg.hour=t.cfg.maxObj.hour:t.cfg.maxObj.hour==t.cfg.hour&&(t.cfg.maxObj.minutes<t.cfg.minutes?i.textContent=t.cfg.minutes=t.cfg.maxObj.minutes:t.cfg.maxObj.minutes==t.cfg.minutes&&t.cfg.maxObj.seconds<=t.cfg.seconds&&(c.textContent=t.cfg.seconds=t.cfg.maxObj.seconds))),t.cfg.init=t.timeFormat(t.cfg.year,t.cfg.month,t.cfg.day,t.cfg.hour,t.cfg.minutes,t.cfg.seconds),t.cfg.Obj.value=t.formDate(t.cfg.init)}})}},{key:"domHour",value:function(t,e){for(var s="",i=0;i<t;i++)s+=i==e?"<span class='selected'>"+(i<10?"0"+i:i)+"</span>":"<span>"+(i<10?"0"+i:i)+"</span>";for(var c=0;c<6;c++)s+="<div></div>";return s}},{key:"sureEvent",value:function(){var t=this;this.cfg.showObj.querySelector(".sure").onclick=function(e){var s=e||window.event;s.stopPropagation?s.stopPropagation():s.cancelBubble=!0,t.callback()}}},{key:"documentEvent",value:function(){var t=this;document.onclick=function(e){var s=e||window.event;s.preventDefault?(s.preventDefault(),s.stopPropagation()):(s.returnValue=!0,s.cancelBubble=!0);var i=s.target||s.srcElement,c=[t.cfg.timePartShow,t.cfg.id];t.closeSet(i,c)||t.timePartHide()}}},{key:"timePartHide",value:function(){var t=this,e=t.getClassAll("."+t.cfg.timePartShow);Array.prototype.slice.call(e).forEach(function(e){e.style.left="-10000px",e.querySelector("."+t.cfg.hmslist)&&parseInt(e.querySelector("."+t.cfg.hmslist).style.left)>=0&&(e.querySelector("."+t.cfg.hmslist).style.left="-10000px")})}},{key:"closeSet",value:function(t,e){var s=t,i=0;if("body"==s.nodeName.toLowerCase()||"document"==s.nodeName.toLowerCase()||"html"==s.nodeName.toLowerCase())return!1;for(var c=!1,h=0;h<e.length&&""!=s.className;h++)if(s.className==e[h]){i++,c=!0;break}return 0==i&&(s=s.parentNode,this.closeSet(s,e)),c}}]),t}();
export function CFCMCalendar(param) {
		return new CFCMCalendar(param)
	}